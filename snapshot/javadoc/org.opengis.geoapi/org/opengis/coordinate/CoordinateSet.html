<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (22) on Mon Jun 17 13:05:00 CEST 2024 -->
<title>CoordinateSet</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="dc.created" content="2024-06-17">
<meta name="description" content="declaration: module: org.opengis.geoapi, package: org.opengis.coordinate, interface: CoordinateSet">
<meta name="generator" content="javadoc/ClassWriter">
<link rel="stylesheet" type="text/css" href="../../../../resource-files/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../resource-files/stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../resource-files/geoapi.css" title="Style">
<script type="text/javascript" src="../../../../script-files/script.js"></script>
<script type="text/javascript" src="../../../../script-files/jquery-3.6.1.min.js"></script>
<script type="text/javascript" src="../../../../script-files/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var pathtoroot = "../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner"><div class="snapshot-warning"><b>This specification is not final and is subject to change.</b><br/>For OGC standard, see <a href="http://www.geoapi.org/3.0/javadoc/index.html">GeoAPI 3.0.2</a>.</div>
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top"><button id="navbar-toggle-button" aria-controls="navbar-top" aria-expanded="false" aria-label="Toggle navigation links"><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span></button>
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="../../../module-summary.html">Module</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/CoordinateSet.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../new-list.html">New</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html#class">Help</a></li>
</ul>
<ul class="sub-nav-list-small">
<li>
<p>Summary:</p>
<ul>
<li>Nested</li>
<li>Field</li>
<li>Constr</li>
<li><a href="#method-summary">Method</a></li>
</ul>
</li>
<li>
<p>Detail:</p>
<ul>
<li>Field</li>
<li>Constr</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</li>
</ul>
</div>
<div class="sub-nav">
<div id="navbar-sub-list">
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><a href="../../../../search.html">SEARCH</a>
<input type="text" id="search-input" disabled placeholder="Search">
<input type="reset" id="reset-button" disabled value="reset">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="module-label-in-type">Module</span>&nbsp;<a href="../../../module-summary.html">org.opengis.geoapi</a></div>
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">org.opengis.coordinate</a></div>
<h1 title="Interface CoordinateSet" class="title">Interface CoordinateSet</h1>
</div>
<section class="class-description" id="class-description">
<div class="horizontal-scroll">
<dl class="notes">
<dt>All Superinterfaces:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.base/java/lang/Iterable.html" title="class or interface in java.lang" class="external-link">Iterable</a>&lt;<a href="../geometry/DirectPosition.html" title="interface in org.opengis.geometry">DirectPosition</a>&gt;</code></dd>
</dl>
<hr>
<div class="type-signature"><span class="annotations"><a href="../annotation/UML.html" title="annotation interface in org.opengis.annotation">@UML</a>(<a href="../annotation/UML.html#identifier()">identifier</a>="CoordinateSet",
     <a href="../annotation/UML.html#specification()">specification</a>=<a href="../annotation/Specification.html#ISO_19111">ISO_19111</a>)
</span><span class="modifiers">public interface </span><span class="element-name"><a href="../../../../src-html/org.opengis.geoapi/org/opengis/coordinate/CoordinateSet.html#line-55">CoordinateSet</a></span><span class="extends-implements">
extends <a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.base/java/lang/Iterable.html" title="class or interface in java.lang" class="external-link">Iterable</a>&lt;<a href="../geometry/DirectPosition.html" title="interface in org.opengis.geometry">DirectPosition</a>&gt;</span></div>
<div class="block">A collection of coordinate tuples referenced to the same coordinate reference system (<abbr>CRS</abbr>).
 If the <abbr>CRS</abbr> is dynamic, the <code>CoordinateSet</code> metadata contains also a coordinate epoch.
 Operations on the geometry of the tuples within the coordinate set are valid only if all
 tuples are referenced to the same coordinate epoch.

 <h2 id="coordinate-operations-heading">Coordinate operations</h2>
 Coordinate sets referenced to one <abbr>CRS</abbr> may be referenced to another <abbr>CRS</abbr> through the
 application of a <a href="../referencing/operation/CoordinateOperation.html" title="interface in org.opengis.referencing.operation">coordinate operation</a>.
 If the <abbr>CRS</abbr> is dynamic, the <code>CoordinateSet</code> may be converted to another coordinate epoch
 through a point motion coordinate operation that includes time evolution.</div>
<dl class="notes">
<dt>Since:</dt>
<dd>3.1</dd>
<dt>See Also:</dt>
<dd>
<ul class="tag-list-long">
<li><a href="../referencing/operation/CoordinateOperation.html#transform(org.opengis.coordinate.CoordinateSet)"><code>CoordinateOperation.transform(CoordinateSet)</code></a></li>
</ul>
</dd>
</dl>
</div>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab3" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab3', 3)" class="table-tab">Abstract Methods</button><button id="method-summary-table-tab5" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab5', 3)" class="table-tab">Default Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel">
<div class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code>default <a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.base/java/util/Optional.html" title="class or interface in java.util" class="external-link">Optional</a><wbr>&lt;<a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.base/java/util/stream/Stream.html" title="class or interface in java.util.stream" class="external-link">Stream</a>&lt;<a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.base/java/nio/DoubleBuffer.html" title="class or interface in java.nio" class="external-link">DoubleBuffer</a>&gt;&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code><a href="#asDoubleBuffers()" class="member-name-link">asDoubleBuffers</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5">
<div class="block">If the coordinates are packed in sequences of double-precision floating point values,
 returns views over those sequences.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code>default <a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.base/java/util/Optional.html" title="class or interface in java.util" class="external-link">Optional</a><wbr>&lt;<a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.base/java/util/stream/Stream.html" title="class or interface in java.util.stream" class="external-link">Stream</a>&lt;<a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.base/java/nio/FloatBuffer.html" title="class or interface in java.nio" class="external-link">FloatBuffer</a>&gt;&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code><a href="#asFloatBuffers()" class="member-name-link">asFloatBuffers</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5">
<div class="block">If the coordinates are packed in sequences of single-precision floating point values, returns views
 over those sequences.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="CoordinateMetadata.html" title="interface in org.opengis.coordinate">CoordinateMetadata</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#getCoordinateMetadata()" class="member-name-link">getCoordinateMetadata</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Coordinate metadata to which this coordinate set is referenced.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code>default int</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code><a href="#getDimension()" class="member-name-link">getDimension</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5">
<div class="block">Returns the number of dimensions of coordinate tuples.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.base/java/util/Iterator.html" title="class or interface in java.util" class="external-link">Iterator</a><wbr>&lt;<a href="../geometry/DirectPosition.html" title="interface in org.opengis.geometry">DirectPosition</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#iterator()" class="member-name-link">iterator</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Returns an iterator over the positions described by coordinate tuples.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code>default <a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.base/java/util/stream/Stream.html" title="class or interface in java.util.stream" class="external-link">Stream</a><wbr>&lt;<a href="../geometry/DirectPosition.html" title="interface in org.opengis.geometry">DirectPosition</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code><a href="#stream()" class="member-name-link">stream</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5">
<div class="block">Returns a sequential stream of coordinate tuples.</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-Iterable">Methods inherited from interface&nbsp;java.lang.<a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.base/java/lang/Iterable.html" title="class or interface in java.lang" class="external-link">Iterable</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.base/java/lang/Iterable.html#forEach(java.util.function.Consumer)" title="class or interface in java.lang" class="external-link">forEach</a>, <a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.base/java/lang/Iterable.html#spliterator()" title="class or interface in java.lang" class="external-link">spliterator</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="getCoordinateMetadata()">
<h3>getCoordinateMetadata</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="annotations"><a href="../annotation/UML.html" title="annotation interface in org.opengis.annotation">@UML</a>(<a href="../annotation/UML.html#identifier()">identifier</a>="coordinateMetadata",
     <a href="../annotation/UML.html#obligation()">obligation</a>=<a href="../annotation/Obligation.html#MANDATORY">MANDATORY</a>,
     <a href="../annotation/UML.html#specification()">specification</a>=<a href="../annotation/Specification.html#ISO_19111">ISO_19111</a>)
</span><span class="return-type"><a href="CoordinateMetadata.html" title="interface in org.opengis.coordinate">CoordinateMetadata</a></span>&nbsp;<span class="element-name"><a href="../../../../src-html/org.opengis.geoapi/org/opengis/coordinate/CoordinateSet.html#line-64">getCoordinateMetadata</a></span>()</div>
<div class="block">Coordinate metadata to which this coordinate set is referenced. Coordinate metadata includes a
 <a href="../referencing/crs/CoordinateReferenceSystem.html" title="interface in org.opengis.referencing.crs">coordinate reference system</a>
 (<abbr>CRS</abbr>) and, if the <abbr>CRS</abbr> is dynamic, a coordinate epoch.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>coordinate metadata to which this coordinate set is referenced.</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="getDimension()">
<h3>getDimension</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">default</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name"><a href="../../../../src-html/org.opengis.geoapi/org/opengis/coordinate/CoordinateSet.html#line-76">getDimension</a></span>()</div>
<div class="block">Returns the number of dimensions of coordinate tuples. This is determined by the
 <a href="CoordinateMetadata.html#getCoordinateReferenceSystem()">coordinate reference system</a>.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the number of dimensions of coordinate tuples.</dd>
<div class="departure"><details>
<summary>Convenience extension to OGC/ISO standard</summary>
This shortcut has been added because this is a frequently used information.
</details></div></dl>
</div>
</section>
</li>
<li>
<section class="detail" id="iterator()">
<h3>iterator</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="annotations"><a href="../annotation/UML.html" title="annotation interface in org.opengis.annotation">@UML</a>(<a href="../annotation/UML.html#identifier()">identifier</a>="coordinateTuple",
     <a href="../annotation/UML.html#obligation()">obligation</a>=<a href="../annotation/Obligation.html#MANDATORY">MANDATORY</a>,
     <a href="../annotation/UML.html#specification()">specification</a>=<a href="../annotation/Specification.html#ISO_19111">ISO_19111</a>)
</span><span class="return-type"><a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.base/java/util/Iterator.html" title="class or interface in java.util" class="external-link">Iterator</a>&lt;<a href="../geometry/DirectPosition.html" title="interface in org.opengis.geometry">DirectPosition</a>&gt;</span>&nbsp;<span class="element-name"><a href="../../../../src-html/org.opengis.geoapi/org/opengis/coordinate/CoordinateSet.html#line-96">iterator</a></span>()</div>
<div class="block">Returns an iterator over the positions described by coordinate tuples.
 The positions shall be in a well-defined encounter order.
 For each element, the following constraints shall be met:

 <ul>
   <li><a href="../geometry/DirectPosition.html#getDimension()"><code>DirectPosition.getDimension()</code></a> is equal to <a href="#getDimension()"><code>getDimension()</code></a>.</li>
   <li><a href="../geometry/DirectPosition.html#getCoordinateReferenceSystem()"><code>DirectPosition.getCoordinateReferenceSystem()</code></a> is null or equal to
       <a href="CoordinateMetadata.html#getCoordinateReferenceSystem()"><code>CoordinateMetadata.getCoordinateReferenceSystem()</code></a>.</li>
 </ul>

 Invoking this method is equivalent to invoking <code>stream().iterator()</code>.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.base/java/lang/Iterable.html#iterator()" title="class or interface in java.lang" class="external-link">iterator</a></code>&nbsp;in interface&nbsp;<code><a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.base/java/lang/Iterable.html" title="class or interface in java.lang" class="external-link">Iterable</a>&lt;<a href="../geometry/DirectPosition.html" title="interface in org.opengis.geometry">DirectPosition</a>&gt;</code></dd>
<dt>Returns:</dt>
<dd>a new iterator over the positions described by coordinate tuples.</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="stream()">
<h3>stream</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">default</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.base/java/util/stream/Stream.html" title="class or interface in java.util.stream" class="external-link">Stream</a>&lt;<a href="../geometry/DirectPosition.html" title="interface in org.opengis.geometry">DirectPosition</a>&gt;</span>&nbsp;<span class="element-name"><a href="../../../../src-html/org.opengis.geoapi/org/opengis/coordinate/CoordinateSet.html#line-116">stream</a></span>()</div>
<div class="block">Returns a sequential stream of coordinate tuples.
 The positions shall be in a well-defined encounter order
 (i.e., positions are <a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.base/java/util/Spliterator.html#ORDERED" title="class or interface in java.util" class="external-link">ordered</a>).

 <h4 id="default-implementation-heading">Default implementation</h4>
 If <a href="#asDoubleBuffers()"><code>asDoubleBuffers()</code></a> or <a href="#asFloatBuffers()"><code>asFloatBuffers()</code></a> (in that preference order) returns
 a non-empty value, then the default method returns a stream of views over the buffers content.
 Otherwise, the default method returns a stream backed by <a href="#iterator()"><code>iterator()</code></a>.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>a sequential stream of coordinate tuples.</dd>
<div class="departure"><details>
<summary>Departure from OGC/ISO standard for closer integration with the Java environment</summary>
Added for allowing developers to process coordinate tuples efficiently in Java environments.
   The use of Java streams makes parallel processing easier.
</details></div></dl>
</div>
</section>
</li>
<li>
<section class="detail" id="asDoubleBuffers()">
<h3>asDoubleBuffers</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">default</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.base/java/util/Optional.html" title="class or interface in java.util" class="external-link">Optional</a>&lt;<a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.base/java/util/stream/Stream.html" title="class or interface in java.util.stream" class="external-link">Stream</a>&lt;<a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.base/java/nio/DoubleBuffer.html" title="class or interface in java.nio" class="external-link">DoubleBuffer</a>&gt;&gt;</span>&nbsp;<span class="element-name"><a href="../../../../src-html/org.opengis.geoapi/org/opengis/coordinate/CoordinateSet.html#line-196">asDoubleBuffers</a></span>()</div>
<div class="block">If the coordinates are packed in sequences of double-precision floating point values,
 returns views over those sequences. For example, if the number of dimensions is 3,
 then the coordinates can be packed in this order:

 (<var>x₀</var>,<var>y₀</var>,<var>z₀</var>,
  <var>x₁</var>,<var>y₁</var>,<var>z₁</var> …).

 <p>The coordinates may be packed in a single buffer, or may be partitioned in many buffers.
 For each buffer, the number of coordinate tuples is <a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.base/java/nio/Buffer.html#remaining()" title="class or interface in java.nio" class="external-link"><code>Buffer.remaining()</code></a> / <a href="#getDimension()"><code>getDimension()</code></a>.
 Each buffer may have a different number of coordinate tuples. It shall be safe to modify the position, limit or
 mark of buffer instances (see example below). Each <a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.base/java/nio/DoubleBuffer.html" title="class or interface in java.nio" class="external-link"><code>DoubleBuffer</code></a> instance should be a <em>view</em> over
 an underlying coordinate array, those arrays should not be copied.</p>

 <h4 id="examples-heading">Examples</h4>
 For an implementation with all coordinates packed in a single array of <code>double</code> primitive values:

 
<div class="snippet-container"><button class="copy snippet-copy" aria-label="Copy snippet" onclick="copySnippet(this)"><span data-copied="Copied!">Copy</span><img src="../../../../resource-files/copy.svg" alt="Copy snippet"></button>
<pre class="snippet"><code class="language-java">private final double[] coordinates = ...;

public Optional&lt;Stream&lt;DoubleBuffer&gt;&gt; asDoubleBuffers() {
    return Optional.of(Stream.of(DoubleBuffer.wrap(coordinates)));
}
</code></pre>
</div>


 For an implementation with all coordinates partitioned in an array of <a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.base/java/nio/DoubleBuffer.html" title="class or interface in java.nio" class="external-link"><code>DoubleBuffer</code></a> wrappers.
 Note the call to <a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.base/java/nio/DoubleBuffer.html#duplicate()" title="class or interface in java.nio" class="external-link"><code>DoubleBuffer.duplicate()</code></a> for protecting the internal buffers from changes:

 
<div class="snippet-container"><button class="copy snippet-copy" aria-label="Copy snippet" onclick="copySnippet(this)"><span data-copied="Copied!">Copy</span><img src="../../../../resource-files/copy.svg" alt="Copy snippet"></button>
<pre class="snippet"><code class="language-java">private final DoubleBuffer[] buffers = ...;

public Optional&lt;Stream&lt;DoubleBuffer&gt;&gt; asDoubleBuffers() {
    return Optional.of(Arrays.stream(buffers).map(DoubleBuffer::duplicate));
}
</code></pre>
</div>


 <h4 id="api-notes-heading"><abbr>API</abbr> notes</h4>
 The use of <a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.base/java/nio/DoubleBuffer.html" title="class or interface in java.nio" class="external-link"><code>DoubleBuffer</code></a> makes possible to handle coordinate values not only from a Java array,
 but also from <a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.base/java/nio/DoubleBuffer.html#slice()" title="class or interface in java.nio" class="external-link">a sub-array</a>, from <a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.base/java/nio/MappedByteBuffer.html" title="class or interface in java.nio" class="external-link">a region of a file</a> or from the <a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.base/java/lang/foreign/MemorySegment.html#asByteBuffer()" title="class or interface in java.lang.foreign" class="external-link"><code>memory of a native
 application</code></a>.

 <p>Empty <code>Optional</code> and empty <code>Stream</code> are not synonymous.
 An empty optional means that this <code>CoordinateSet</code> is not backed by sequences of double-precision values,
 or that those values are not packed in the way described above, or are not accessible for any reason.
 An empty stream means that the coordinates are accessible by this method, but there is none
 (i.e., this <code>CoordinateSet</code> is empty).</p>

 <p>At most one of <code>asDoubleBuffers()</code> and <a href="#asFloatBuffers()"><code>asFloatBuffers()</code></a> should return a non-empty value,
 because a <code>CoordinateSet</code> may be backed by single- or double-precision floating point values,
 but usually not both in same time.</p></div>
<dl class="notes">
<dt>Returns:</dt>
<dd>a view over the sequences of coordinates as double-precision floating point values.</dd>
<dt>See Also:</dt>
<dd>
<ul class="tag-list-long">
<li><a href="#stream()"><code>stream()</code></a></li>
<li><a href="../referencing/operation/MathTransform.html#transform(java.nio.DoubleBuffer,java.nio.DoubleBuffer)"><code>MathTransform.transform(DoubleBuffer, DoubleBuffer)</code></a></li>
<li><a href="../referencing/operation/MathTransform.html#transform(java.nio.DoubleBuffer,java.nio.FloatBuffer)"><code>MathTransform.transform(DoubleBuffer, FloatBuffer)</code></a></li>
</ul>
</dd>
<div class="departure"><details>
<summary>Departure from OGC/ISO standard for closer integration with the Java environment</summary>
Added for allowing developers to access coordinate tuples efficiently in Java environments,
   including the case where the coordinate values are in the memory of a native application.
</details></div></dl>
</div>
</section>
</li>
<li>
<section class="detail" id="asFloatBuffers()">
<h3>asFloatBuffers</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">default</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.base/java/util/Optional.html" title="class or interface in java.util" class="external-link">Optional</a>&lt;<a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.base/java/util/stream/Stream.html" title="class or interface in java.util.stream" class="external-link">Stream</a>&lt;<a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.base/java/nio/FloatBuffer.html" title="class or interface in java.nio" class="external-link">FloatBuffer</a>&gt;&gt;</span>&nbsp;<span class="element-name"><a href="../../../../src-html/org.opengis.geoapi/org/opengis/coordinate/CoordinateSet.html#line-219">asFloatBuffers</a></span>()</div>
<div class="block">If the coordinates are packed in sequences of single-precision floating point values, returns views
 over those sequences. This method contract is the same as <a href="#asDoubleBuffers()"><code>asDoubleBuffers()</code></a>, with only the
 <code>float</code> type instead of <code>double</code>.

 <p>At most one of <code>asFloatBuffers()</code> and <a href="#asDoubleBuffers()"><code>asDoubleBuffers()</code></a> should return a non-empty value,
 because a <code>CoordinateSet</code> may be backed by single- or double-precision floating point values,
 but usually not both in same time.</p></div>
<dl class="notes">
<dt>Returns:</dt>
<dd>a view over the sequences of coordinates as single-precision floating point values.</dd>
<dt>See Also:</dt>
<dd>
<ul class="tag-list-long">
<li><a href="#stream()"><code>stream()</code></a></li>
<li><a href="../referencing/operation/MathTransform.html#transform(java.nio.FloatBuffer,java.nio.FloatBuffer)"><code>MathTransform.transform(FloatBuffer, FloatBuffer)</code></a></li>
<li><a href="../referencing/operation/MathTransform.html#transform(java.nio.FloatBuffer,java.nio.DoubleBuffer)"><code>MathTransform.transform(FloatBuffer, DoubleBuffer)</code></a></li>
</ul>
</dd>
<div class="departure"><details>
<summary>Departure from OGC/ISO standard for closer integration with the Java environment</summary>
Added for allowing developers to access coordinate tuples efficiently in Java environments,
   including the case where the coordinate values are in the memory of a native application.
</details></div></dl>
</div>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
</body>
</html>
